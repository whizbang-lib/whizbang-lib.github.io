// =============================================================================
// Theme Tokens - Light and Dark Theme Variables
// =============================================================================

@use 'sass:map';

// Base color palette - shared between themes
// -----------------------------------------------------------------------------
$wb-colors: (
  // Primary Blues
  'blue-50': #eff6ff,
  'blue-100': #dbeafe,
  'blue-200': #bfdbfe,
  'blue-300': #93c5fd,
  'blue-400': #60a5fa,
  'blue-500': #3b82f6,
  'blue-600': #2563eb,
  'blue-700': #1d4ed8,
  'blue-800': #1e40af,
  'blue-900': #1e3a8a,
  
  // Grays
  'gray-50': #f9fafb,
  'gray-100': #f3f4f6,
  'gray-200': #e5e7eb,
  'gray-300': #d1d5db,
  'gray-400': #9ca3af,
  'gray-500': #6b7280,
  'gray-600': #4b5563,
  'gray-700': #374151,
  'gray-800': #1f2937,
  'gray-900': #111827,
  
  // Status Colors
  'green-500': #10b981,
  'green-600': #059669,
  'yellow-500': #f59e0b,
  'yellow-600': #d97706,
  'red-500': #ef4444,
  'red-600': #dc2626,
  
  // Code/Syntax Colors
  'code-bg-light': #f8fafc,
  'code-bg-dark': #1a202c,
  'code-border-light': #e2e8f0,
  'code-border-dark': #2d3748,
  'syntax-keyword': #569cd6,
  'syntax-string': #ce9178,
  'syntax-comment': #6a9955,
  'syntax-number': #b5cea8,
  'syntax-class': #4ec9b0,
  'syntax-method': #dcdcaa,
  'syntax-property': #9cdcfe
);

@function wb-color($name) {
  @return map.get($wb-colors, $name);
}

// Light Theme Variables
// -----------------------------------------------------------------------------
:root {
  // Surface colors - much brighter and cleaner
  --wb-surface-ground: #ffffff;
  --wb-surface-card: #ffffff;
  --wb-surface-section: #{wb-color('gray-50')};
  --wb-surface-border: #{wb-color('gray-200')};
  --wb-surface-hover: #{wb-color('gray-50')};
  --wb-surface-overlay: rgba(255, 255, 255, 0.95);
  
  // Text colors
  --wb-text-primary: #{wb-color('gray-900')};
  --wb-text-secondary: #{wb-color('gray-600')};
  --wb-text-muted: #{wb-color('gray-500')};
  --wb-text-inverse: #{wb-color('gray-50')};
  
  // Primary colors (inherit from PrimeNG but can override)
  --wb-primary: #{wb-color('blue-600')};
  --wb-primary-50: #{wb-color('blue-50')};
  --wb-primary-100: #{wb-color('blue-100')};
  --wb-primary-500: #{wb-color('blue-500')};
  --wb-primary-600: #{wb-color('blue-600')};
  --wb-primary-700: #{wb-color('blue-700')};
  
  // Status colors
  --wb-success: #{wb-color('green-500')};
  --wb-success-text: #{wb-color('green-600')};
  --wb-warning: #{wb-color('yellow-500')};
  --wb-warning-text: #{wb-color('yellow-600')};
  --wb-error: #{wb-color('red-500')};
  --wb-error-text: #{wb-color('red-600')};
  --wb-info: #{wb-color('blue-500')};
  --wb-info-text: #{wb-color('blue-600')};
  
  // Code block colors (light theme) - much darker chrome for better visibility
  --wb-code-bg: #{wb-color('gray-50')};
  --wb-code-bg-light: #fafbfc;
  --wb-code-bg-secondary: #{wb-color('gray-700')};
  --wb-code-header-bg: #{wb-color('gray-800')};
  --wb-code-footer-bg: #{wb-color('gray-800')};
  --wb-code-text: #{wb-color('gray-800')};
  --wb-code-text-muted: #{wb-color('gray-600')};
  --wb-code-border: #{wb-color('gray-400')};
  --wb-code-line-number: #{wb-color('gray-400')};
  --wb-code-highlight: #{wb-color('blue-50')};
  
  // Syntax highlighting (adjusted for light backgrounds)
  --wb-syntax-keyword: #0969da;
  --wb-syntax-string: #032f62;
  --wb-syntax-comment: #{wb-color('gray-500')};
  --wb-syntax-number: #0550ae;
  --wb-syntax-class: #6f42c1;
  --wb-syntax-method: #8250df;
  --wb-syntax-property: #953800;
  
  // Enhanced C# syntax colors (light theme)
  --wb-syntax-variable: #1f7199;
  --wb-syntax-meta: #a31515;
  --wb-syntax-doctag: #808080;
  --wb-syntax-params: #001080;
  --wb-syntax-title-class: #267f99;
  --wb-syntax-title-function: #795e26;
  --wb-syntax-operator: #0969da;
  --wb-syntax-punctuation: #6b7280;
  --wb-syntax-annotation: #a31515;
  
  // Shadows
  --wb-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --wb-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --wb-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  
  // Gradients
  --wb-gradient-primary: linear-gradient(135deg, var(--wb-primary), var(--wb-primary-700));
  --wb-gradient-surface: linear-gradient(135deg, var(--wb-surface-ground), var(--wb-surface-card));
}

// Dark Theme Variables
// -----------------------------------------------------------------------------
:root[data-theme="dark"] {
  // Surface colors
  --wb-surface-ground: #{wb-color('gray-900')};
  --wb-surface-card: #{wb-color('gray-800')};
  --wb-surface-section: #{wb-color('gray-800')};
  --wb-surface-border: #{wb-color('gray-700')};
  --wb-surface-hover: #{wb-color('gray-700')};
  --wb-surface-overlay: rgba(17, 24, 39, 0.9);
  
  // Text colors
  --wb-text-primary: #{wb-color('gray-100')};
  --wb-text-secondary: #{wb-color('gray-400')};
  --wb-text-muted: #{wb-color('gray-500')};
  --wb-text-inverse: #{wb-color('gray-900')};
  
  // Primary colors (slightly adjusted for dark theme)
  --wb-primary: #{wb-color('blue-500')};
  --wb-primary-50: #{wb-color('blue-900')};
  --wb-primary-100: #{wb-color('blue-800')};
  --wb-primary-500: #{wb-color('blue-500')};
  --wb-primary-600: #{wb-color('blue-400')};
  --wb-primary-700: #{wb-color('blue-300')};
  
  // Status colors (adjusted for dark backgrounds)
  --wb-success: #{wb-color('green-500')};
  --wb-success-text: #{wb-color('green-500')};
  --wb-warning: #{wb-color('yellow-500')};
  --wb-warning-text: #{wb-color('yellow-500')};
  --wb-error: #{wb-color('red-500')};
  --wb-error-text: #{wb-color('red-500')};
  --wb-info: #{wb-color('blue-500')};
  --wb-info-text: #{wb-color('blue-500')};
  
  // Code block colors (dark theme) - darker chrome
  --wb-code-bg: #{wb-color('code-bg-dark')};
  --wb-code-bg-light: #1a1a1a;
  --wb-code-bg-secondary: #1a1a1a;
  --wb-code-header-bg: #2a2a2a;
  --wb-code-footer-bg: #2a2a2a;
  --wb-code-text: #e2e8f0;
  --wb-code-text-muted: #a0aec0;
  --wb-code-border: #2d3748;
  --wb-code-line-number: #4a5568;
  --wb-code-highlight: rgba(59, 130, 246, 0.15);
  
  // Syntax highlighting (VS Code dark theme colors)
  --wb-syntax-keyword: #{wb-color('syntax-keyword')};
  --wb-syntax-string: #{wb-color('syntax-string')};
  --wb-syntax-comment: #{wb-color('syntax-comment')};
  --wb-syntax-number: #{wb-color('syntax-number')};
  --wb-syntax-class: #{wb-color('syntax-class')};
  --wb-syntax-method: #{wb-color('syntax-method')};
  --wb-syntax-property: #{wb-color('syntax-property')};
  
  // Enhanced C# syntax colors (dark theme)
  --wb-syntax-variable: #9cdcfe;
  --wb-syntax-meta: #569cd6;
  --wb-syntax-doctag: #6a9955;
  --wb-syntax-params: #9cdcfe;
  --wb-syntax-title-class: #4ec9b0;
  --wb-syntax-title-function: #dcdcaa;
  --wb-syntax-operator: #d4d4d4;
  --wb-syntax-punctuation: #d4d4d4;
  --wb-syntax-annotation: #569cd6;
  
  // Shadows (adjusted for dark theme)
  --wb-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --wb-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
  --wb-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3);
  
  // Gradients
  --wb-gradient-primary: linear-gradient(135deg, var(--wb-primary), var(--wb-primary-600));
  --wb-gradient-surface: linear-gradient(135deg, var(--wb-surface-ground), var(--wb-surface-card));
}

// Theme transition effects
// -----------------------------------------------------------------------------
* {
  transition-property: background-color, border-color, color, fill, stroke, box-shadow;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}

// Prevent transition on theme load
.theme-loading * {
  transition: none !important;
}

// High contrast mode support
// -----------------------------------------------------------------------------
@media (prefers-contrast: high) {
  :root {
    --wb-surface-border: #{wb-color('gray-400')};
    --wb-text-secondary: #{wb-color('gray-800')};
  }
  
  :root[data-theme="dark"] {
    --wb-surface-border: #{wb-color('gray-400')};
    --wb-text-secondary: #{wb-color('gray-200')};
  }
}

// Reduced motion support
// -----------------------------------------------------------------------------
@media (prefers-reduced-motion: reduce) {
  * {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    scroll-behavior: auto !important;
  }
}